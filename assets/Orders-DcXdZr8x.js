import{b as u,r,B as j,a as f,j as e}from"./index-kuPgm23o.js";import{S as v}from"./LoginRequiredMessage-ChcW2L1u.js";import{P as N}from"./PageHeader-DojtT84v.js";import{L as g}from"./Loading-Dvm_kJQt.js";const C=()=>{const i=u();r.useEffect(()=>{const s=i(j());return()=>{s.abort()}},[i]);const[d,c]=r.useState(!1),[n,o]=r.useState([]),{orders:l,error:x,loading:m}=f(s=>s.order),t=()=>{c(!d)},h=s=>{const a=l.find(b=>b.id===s),p=(a==null?void 0:a.items)??[];o([...p]),t()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed z-50 top-0 left-0 w-full h-screen bg-black bg-opacity-15 transition-all duration-200 ${!d&&"-translate-y-full"}`,children:e.jsxs("div",{className:"fixed shadow-md w-full md:w-1/2 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2  bg-white p-5 rounded-md",children:[e.jsxs("div",{className:"flex items-center justify-between pb-5",children:[e.jsx("h2",{className:"text-2xl",children:" Order Details "}),e.jsx("div",{className:"cursor-pointer",onClick:()=>{t()},children:e.jsx(v,{})})]}),e.jsx("hr",{className:"mb-5"}),e.jsxs("div",{className:"max-h-[60vh] overflow-auto",children:[e.jsxs("div",{className:"py-2 flex items-center justify-between border-b-[1px] border-solid border-b-lighttext",children:[e.jsx("div",{className:"basis-[20%]",children:"Product-image"}),e.jsx("div",{className:"basis-[23%]",children:"Deatils"}),e.jsx("div",{className:"basis-[18%]",children:"Item-Price"}),e.jsx("div",{className:"basis-[15%]",children:"Quantity"}),e.jsx("div",{className:"basis-[18%]",children:"Total-Price"})]}),n.map(s=>e.jsxs("div",{className:"flex items-center justify-between border-b-[1px] border-solid border-b-lighttext",children:[e.jsx("div",{className:"basis-[20%]",children:e.jsx("img",{className:"max-w-full",src:s.img,alt:"product-img"})}),e.jsx("div",{className:"basis-[20%]",children:s.title}),e.jsx("div",{className:"basis-[20%]",children:s.price}),e.jsx("div",{className:"basis-[15%]",children:s.quantity}),e.jsx("div",{className:"basis-[18%]",children:s.quantity&&s.quantity*s.price})]},s.id))]}),e.jsx("div",{className:"border-t-[1px] border-solid border-t-lighttext",children:e.jsx("button",{className:"w-full bg-mainColor hover:bg-hoverColor text-white block p-2 mt-2 rounded-md",onClick:()=>{t()},children:"Done"})})]})}),e.jsxs("div",{className:"px-2",children:[e.jsx(N,{title:"My Orders"}),e.jsx(g,{loading:m,error:x,type:"cart",children:e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"-m-1.5 overflow-x-auto",children:e.jsx("div",{className:"p-1.5 min-w-full inline-block align-middle",children:e.jsx("div",{className:"overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 mb-5",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium dark:text-white text-gray-500 uppercase",children:"#"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium dark:text-white text-gray-500 uppercase",children:"Items"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium dark:text-white text-gray-500 uppercase",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-medium dark:text-white text-gray-500 uppercase",children:"Action"})]})}),e.jsx("tbody",{children:l.map(s=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-100 dark:odd:bg-darktheme dark:even:bg-darkthemeSec ",children:[e.jsxs("td",{className:"px-6 py-2 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-white",children:["#",s.id]}),e.jsxs("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:["Consist of ",s.items.length," / Item(s)"]}),e.jsx("td",{className:"px-6 py-2 whitespace-nowrap text-sm text-gray-800 dark:text-white",children:s.subTotalPrice}),e.jsx("td",{className:"px-6 py-2 whitespace-nowrap text-end text-sm font-medium",children:e.jsx("button",{type:"button",className:"py-3 px-2 inline-flex items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent text-blue-600 hover:bg-blue-100 focus:outline-none focus:bg-blue-100 hover:text-blue-800 focus:text-blue-800 disabled:opacity-50 disabled:pointer-events-none",onClick:()=>h(s.id),children:"Order Details"})})]},s.id))})]})})})})})})]})]})};export{C as default};
